<idea-plugin>
    <id>com.dsg.k-plugin</id>
    <name>K-plugin</name>
    <vendor url="https://www.yourcompany.com">YourCompany</vendor>
    <version>1.0.0</version>
    <description><![CDATA[
        Enter short description for your plugin here.<br>
        <em>most HTML tags may be used</em>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow
                id="Migrations"
                anchor="left"
                factoryClass="com.dsg.kplugin.components.settings.migration.MigrationToolWindowFactory"
                icon="/icons/pluginIcon.svg"
        />
        <postStartupActivity implementation="com.dsg.kplugin.components.startup.LoadUserOnStartup"/>

        <projectConfigurable
                id="com.dsg.kplugin.settings"
                instance="com.dsg.kplugin.components.settings.main.SettingsMainPageConfigurable"
                displayName="K-Plugin"/>

        <projectConfigurable
                parentId="com.dsg.kplugin.settings"
                id="com.dsg.kplugin.settings.migrations"
                displayName="Миграции"
                instance="com.dsg.kplugin.components.settings.migration.MigrationSettingsConfigurable"/>

        <projectConfigurable
                parentId="com.dsg.kplugin.settings"
                id="com.dsg.kplugin.settings.git"
                displayName="Git"
                instance="com.dsg.kplugin.components.settings.migration.MigrationSettingsConfigurable"/>

        <projectConfigurable
                parentId="com.dsg.kplugin.settings.migrations"
                id="com.dsg.kplugin.settings.migrations.mapping"
                displayName="Mapping"
                instance="com.dsg.kplugin.components.settings.migration.MigrationSettingsMappingConfigurable"/>
    </extensions>

    <actions>
        <group id="CreateMigrationGroup"
               class="com.dsg.kplugin.actions.migration.CreateMigrationGroup"
               popup="true">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="first"/>
        </group>
        <action id="com.dsg.kplugin.OpenPluginSettingsAction"
                class="com.dsg.kplugin.actions.settings.OpenPluginSettingsAction"
                text="Настройки"
                description="Открыть настройки плагина"/>
    </actions>
</idea-plugin>